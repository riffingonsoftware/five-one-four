"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAsText = exports.isStream = void 0;
function isStream(obj) {
    return (obj !== null && obj !== undefined && typeof obj.pipeThrough === 'function');
}
exports.isStream = isStream;
async function getAsText(stream) {
    let result = '';
    let isDone = false;
    const textDecoder = new TextDecoder();
    const reader = stream.getReader();
    while (!isDone) {
        const { done, value } = await reader.read();
        result += textDecoder.decode(value, { stream: true });
        isDone = done;
    }
    // flush
    result += textDecoder.decode();
    return result;
}
exports.getAsText = getAsText;
//# sourceMappingURL=stream.js.map